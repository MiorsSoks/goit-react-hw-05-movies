{"version":3,"file":"static/js/163.578842d0.chunk.js","mappings":"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","sources":["components/API/Themoviedb-api.jsx","views/SearchBar/SearchBar.jsx","views/SearchBar/SearchBarStyled.js","views/SearchBar/index.js"],"sourcesContent":["import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst API_KEY = \"api_key=b5d359bd4cfe918eaffdc43e2c19ce7b\"\nconst error = error => console.log('Error', error.message)\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\n\nexport async function fetchTrendTitles() {\n  const response = await axios\n    .get(`/trending/movie/week?${API_KEY}`)\n    .catch(error);\n  return response.data.results;\n}\n\nexport async function fetchMovieId(movieId) {\n  const response = await axios\n    .get(`/movie/${movieId}?${API_KEY}`)\n    .catch(error);\n  return response.data;\n}\n  export async function fetchCast(movieId) {\n  const response = await axios\n    .get(`/movie/${movieId}/credits?${API_KEY}`)\n    .catch(error);\n  return response.data;\n  }\n\n  export async function fetchReviews(movieId) {\n  const response = await axios\n    .get(`/movie/${movieId}/reviews?${API_KEY}`)\n    .catch(error);\n  return response.data.results;\n  }\n\n    export async function fetchMovie(movie) {\n  const response = await axios\n    .get(`/search/movie?${API_KEY}&language=en-US&query=${movie}&page=1&include_adult=false`)\n    .catch(error);\n  return response.data.results;\n  }\n\n\nfetchMovieId.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n\nfetchCast.propTypes = {\n  movieId: PropTypes.number.isRequired,\n}\nfetchReviews.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\nfetchMovie.propTypes = {\n  movieId: PropTypes.string.isRequired,\n};\n\n","import { fetchMovie } from '../../components/API/Themoviedb-api';\nimport { useState, useEffect } from 'react';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { List, SearchForm, Button, Input } from './SearchBarStyled';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default function SearchBar() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [value, setValue] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [stateMashine, setStateMashine] = useState('idle');\n  const currentQuery = searchParams.get('query');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (currentQuery) {\n      fetchMovie(currentQuery)\n        .then(setMovies)\n        .finally(()=>setStateMashine('loaded'));\n    }\n  }, [currentQuery]);\n\n  // Отвечает за обновление состояния\n  const handleChange = e => {\n    setValue(e.target.value.toLowerCase());\n  };\n\n  // Вызывается при отправке формы\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    setSearchParams({ query: value });\n    if (value.trim() === '') {\n      toast.warn('Please enter movie title');\n      return;\n    }\n  };\n  return (\n    <>\n      <ToastContainer />\n      <SearchForm>\n        <form onSubmit={handleSubmit}>\n          <Input\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movie\"\n            value={value}\n            onChange={handleChange}\n          />\n          <Button type=\"submit\">Search</Button>\n        </form>\n      </SearchForm>\n      {movies.length === 0 && stateMashine === 'loaded' ? (\n        <p>Not found</p>\n      ) : (\n        <div>\n          <List>\n            {movies.map(movie => (\n              <li key={movie.id}>\n                <Link to={`${movie.id}`} state={{ from: location }}>\n                  {movie.title}\n                </Link>\n              </li>\n            ))}\n          </List>\n        </div>\n      )}\n    </>\n  );\n}\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  font-size: 20px;\n`;\n\nexport const SearchForm = styled.div`\n  margin-bottom: 1rem;\n  margin-top: 8px;\n  display: flex;\n`;\n\nexport const Button = styled.button`\n  height: calc(2.25rem + 2px);\n  padding: 0.375rem 0.75rem;\n  font-family: inherit;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n`;\n\nexport const Input = styled.input`\n  width: 400px;\n  height: calc(2.25rem + 2px);\n  padding: 0.375rem 0.75rem;\n  font-family: inherit;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #bdbdbd;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  &:placeholder {\n    color: #212529;\n    opacity: 0.4;\n    &:focus {\n      color: #212529;\n      background-color: #fff;\n      border-color: #bdbdbd;\n      outline: 0;\n      box-shadow: 0 0 0 0.2rem rgba(158, 158, 158, 0.25);\n    }\n  }\n`;\n","import SearchMovie from './SearchBar';\nexport default SearchMovie;\n"],"names":["API_KEY","error","console","log","message","fetchTrendTitles","axios","catch","response","data","results","fetchMovieId","movieId","fetchCast","fetchReviews","fetchMovie","movie","propTypes","PropTypes","SearchBar","useSearchParams","searchParams","setSearchParams","useState","value","setValue","movies","setMovies","stateMashine","setStateMashine","currentQuery","get","location","useLocation","useEffect","then","finally","SearchForm","onSubmit","evt","preventDefault","query","trim","toast","Input","type","autoComplete","autoFocus","placeholder","onChange","e","target","toLowerCase","Button","length","List","map","to","id","state","from","title","styled","SearchMovie"],"sourceRoot":""}